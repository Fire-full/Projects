extends Первичка.Справочники.Субъект.интПеремещения;

  Import СИС2 Classes Константы, СтроковыеФункции, ФункцииДокумента;
  Import      Classes РаботаСКартотеками   ;

InClass Public
--Перекрываю Формирование название Перемещения
  func ИмяПризнакаПоЗаписи(const aRecord : Первичка.Субъекты.Сотр_Перемещения):String;
    var локФамилия :String;
    var локПодразд :String;
    var локПериод  :String;

    extended ИмяПризнакаПоЗаписи( aRecord );  -- Расширяем Процедуру своим условием и Функц

    if aRecord <> nil then
      локФамилия = Базовый.ФункцииСубъекта.ФамилияИИнициалы_НаДату(aRecord.Сотр, aRecord.ДатаОкончания, фсИменительныйЕдин);
      локПодразд = if(aRecord.Подразделение <> nil,       aRecord.Подразделение.Имя, "");
      --локДолжность = if(aRecord.ДолжностьСотрудника <> nil, aRecord.ДолжностьСотрудника.Имя, "");

      локПериод  = СложитьСтрокиРазделенныеСимволом([if(aRecord.ДатаНазначения > 01.01.1900, "c "  + Str(aRecord.ДатаНазначения, "dd.mm.yyyy"), ""),
                                                       if(aRecord.ДатаОкончания  > 01.01.1900, "по " + Str(aRecord.ДатаОкончания,  "dd.mm.yyyy"), "")], " ", False);

      Result     = СложитьСтрокиРазделенныеСимволом([локФамилия, локПодразд, локПериод, "катег. "+aRecord.КатегорияДолжности.Имя], " / ", False);
    end;
  end;


--  Перекрытие для строки Перемещение в ВедНач
--  ЗарплатаСтандарт.Базовые.редБазовыйРасчет.cod
--  ПолеПеремещение_ПриВыводе


end