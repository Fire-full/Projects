Class "Profile";


  Import СИС2 Classes Константы, Переменные, Функции;
  Import Classes Константы;


InClass Public

  proc Init;
    var локВерсияПроектаИзИнформационнойБазы :Numeric;

    if ПроцессЗагрузкиПрерван then
      return;
    end;

    if НоваяИнформационнаяБазаДляПроекта(ClassProject, ИмяВерсииПроекта,
      ПолучитьВерсиюПроекта, локВерсияПроектаИзИнформационнойБазы) then
      try
        ПроверитьКритичныеНастройки;
        -- **************** блок конвертации старых данных ******************************
        -- пожалуйста, ставьте дату внесения изменений, чтобы можно было вовремя удалять конвертацию
        -- *******************************************************************************


        -- **************** блок конвертации старых данных ******************************
        -- пожалуйста, ставьте дату внесения изменений, чтобы можно было вовремя удалять конвертацию
        -- *******************************************************************************
        УстановитьНовуюВерсиюИнформационннойБазыДляПроекта(ИмяВерсииПроекта, ПолучитьВерсиюПроекта);
      except
        Message('Ошибка при конвертации.');
      end;
    end;
  end;


  proc GetSessionInfo;
    AddSessionInfo(ЗаголовокИнформацииОРелизах, 'Версия проекта '+ClassProject+' : '+Str(ПолучитьВерсиюПроекта, '0.000'));
  end;


InClass Private


  proc ПроверитьКритичныеНастройки;

  end;


End
