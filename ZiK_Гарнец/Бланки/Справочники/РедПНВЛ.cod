Class inherited МашинаРеквизитов.Базовые.блРедакторСИнтерфейсом "ПНВЛ" , editor Справочники.ПНВЛ;
InClass Public

InObject Private


--------------------------------------------------------------------------------
--{ Обработчики событий бланка

  proc шаблон_ПриЗакрытии(Destroy :Logical);
    Перем Index, I :Integer;
    Перем ПЕРНАЧ  :REAL ;
    Перем ПЕРПРОЦ :REAL ;

    inherited шаблон_ПриЗакрытии(Destroy);
    -- Вызывается при закрытия окна формы
    --   Destroy: True - форма закрывается, False - форма сохраняется при закрытии сессии
    Index = ПЕРИОДЫ.Количество;
    если Index>0 тогда
      ТаблВСтроку = "[";
      для  I= 1..Index цикл
        ПЕРНАЧ  = ПЕРИОДЫ[I].ПЕРНАЧ;
        ПЕРПРОЦ = ПЕРИОДЫ[I].ПЕРПРОЦ;
        ТаблВСтроку = ТаблВСтроку + "["+ Стр(ПЕРНАЧ) +","+ Стр(ПЕРПРОЦ) +"]";
        если I=Index тогда
          ТаблВСтроку = ТаблВСтроку + "]";  --Последний проход, закрываем Массив Массивов
        Иначе
           ТаблВСтроку = ТаблВСтроку + ","; --Разделяем элементы массива
        конец;
      конец;

    конец;
     
  end;

--}

end